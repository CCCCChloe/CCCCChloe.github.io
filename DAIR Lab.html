<!DOCTYPE html>
<html>
<head>
	<title>Ting Pan</title>
    <link rel="shortcut icon" type="image/x-icon" href="images/smiley.png">
	<!-- Styles -->
	<link rel="stylesheet" type="text/css" href="styles/home.css">
	<link rel="stylesheet" type="text/css" href="styles/iconfont.css">
	<link rel="stylesheet" type="text/css" href="styles/lab.css">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
	<!-- Fonts -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Lato|Roboto|Raleway" rel="stylesheet">
	<!-- JavaScript -->
	<script type="text/javascript" src="scripts/effects.js"></script>

	<!-- show my code -->
	<link rel="stylesheet" href="highlight/styles/hybrid.css">
	<script src="highlight/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
</head>


<body>
	<!-- Top Navbar -->
	<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-white navbar-color-on-scroll" color-on-scroll="100" id="sectionsNav">
        <div class="container">
            <a class="navbar-brand" href="index.html"><i class="far fa-laugh-squint"></i> Hi, I'm Ting </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
            	<ul class="navbar-nav ml-auto">
            		<li class="nav-item dropdown">
            			<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        	<i class="iconfont icon-gallery-view material-icons"></i> &nbsp;Works
        				</a>
            			<div class="dropdown-menu" aria-labelledby="navbarDropdown">
            				<a class="dropdown-item" href="DAIR Lab.html"><i class="iconfont icon-gongnengdingyi"></i> &nbsp; DAIR Lab</a>
            				<a class="dropdown-item" href="works/data_visualization/code_website/index.html" target="_blank"><i class="iconfont icon-gongnengdingyi"></i> &nbsp; Data Visualization</a>
            				<a class="dropdown-item" href="Painting GO!.html"><i class="iconfont icon-gongnengdingyi"></i> &nbsp; Painting GO!</a>
							<a class="dropdown-item" href="spatial_exploration.html"><i class="iconfont icon-gongnengdingyi"></i> &nbsp; Spatial Exploration</a>
							<a class="dropdown-item" href="FarmVision.html"><i class="iconfont icon-gongnengdingyi"></i> &nbsp; FarmVision</a>
							<a class="dropdown-item" href="waste_maker.html"><i class="iconfont icon-gongnengdingyi"></i> &nbsp; Waste Maker</a>
							<a class="dropdown-item" href="city_jungle.html"><i class="iconfont icon-gongnengdingyi"></i> &nbsp; City Jungle</a>
							<a class="dropdown-item" href="future_architecture.html"><i class="iconfont icon-gongnengdingyi"></i> &nbsp; Future Architecture</a>
            			</div>
            		</li>
            		<li class="nav-item dropdown">
            			<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            				<i class="iconfont icon-posts_fill"></i> &nbsp;Blog
            			</a>
            			<div class="dropdown-menu" aria-labelledby="navbarDropdown">
            				<a class="dropdown-item" href="#"><i class="iconfont icon-number2"></i> &nbsp; year 2019</a>
            				<a class="dropdown-item" href="#"><i class="iconfont icon-number1"></i> &nbsp; year 2018</a>
            				<a class="dropdown-item" href="#"><i class="iconfont icon-number"></i> &nbsp; year 2017</a>
            			</div>
            		</li>
            		<li class="nav-item dropdown">
            			<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            				<i class="iconfont icon-me material-icons"></i> &nbsp;Me
            			</a>
            			<div class="dropdown-menu" aria-labelledby="navbarDropdown">
            				<a class="dropdown-item" href="#"><i class="iconfont icon-emoji_fill"></i> &nbsp;About me</a>
            				<a class="dropdown-item" href="me/resume_Ting_Pan.pdf" target="_blank"><i class="iconfont icon-mine_fill"></i> &nbsp;Resume</a>
            				<a class="dropdown-item" href="#contact"><i class="iconfont icon-feedback_fill"></i> &nbsp;Contact</a>
            			</div>
            		</li>
            	</ul>
            </div>
        </div>
    </nav>

	<!-- Lab -->
	<div class="row" style=" margin-top:80px;">
		<div class="col-md">
			<img src="works/DAIR Lab/poster.png" alt="" style="width:80%; margin-left:15%;">
		</div>
		<div class="col-md">
			<h2 style="margin-top: 20%; width: 90%">
				I am a Graduate Research Assistant of Development and Immsersive Reality Lab(DAIR).
			</h2>
			<h4 style="margin-top:5%;">
				<li>
					I help Professor <a href="https://www.ischool.utexas.edu/tags/jakki-bailey" target="_blank">Jakki Bailey</a> with her research project on the influence of Virtual reality to children.
				</li>
				<li>
					I build 3D model in 3ds Max and develop the VR environment in Unity. <br> I am an animator and developer.
				</li>
				<li>
					I am a guest lecturer of Virtual Environment class to teach Unity billboarding script. 
				</li>
				<li>
					I Conduct a side research project on people's attitudes towards their own avatars using FaceGen.
				</li>
				<li style="color:brown">
					And I just help with organizing and hosting the open house for our Lab!
				</li>
				<li style="color:cadetblue">
					In the future, I will be a Teaching Assistant of <a href="https://www.ischool.utexas.edu/courses/class_details?ClassID=5098">Virtual Environments</a> course to teach Unity!
				</li>
			</h4>
		</div>
	</div>

	<!-- explain -->
	<div class="container" style="margin-top: 200px;color:white; background-color: rgb(148, 148, 148);text-align: center;">
		<h4>According to data privacy, I only list some of my lab works below.</h4>
	</div>


	<!-- video -->
	<div class="video" id="video" style="text-align:center; margin-top:80px;background-color: black; height: 900px; color: white;">
		<iframe style="margin-top:30px;" width="1280" height="720" src="https://www.youtube.com/embed/7k-psThOifs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
		<p style="margin-top:30px;">We scale the size of the character to test children's reaction towards these changes.</p>
	</div>

	<!-- model and animation -->
	<div class="model container" style="text-align:center; margin-top: 100px;">
		<h4>Model and Animation</h4>
		<p>There are some models and animations that I build from scratch for the unity envrionment.</p>
		<div style="margin-bottom: 50px;">
			<img src="works/DAIR Lab/model_1.png" alt="" width="100%;">
		</div>
		<div style="margin-bottom: 50px;">
			<img src="works/DAIR Lab/model_2.png" alt="" width="100%;">
		</div>
		<div style="margin-bottom: 50px;">
			<img src="works/DAIR Lab/model_3.png" alt="" width="100%;">
		</div>

	</div>

	

	<!-- Code -->
	<div class="code" style="margin-top: 100px;">
		<div style="text-align: center;">
			<h3>Billboarding script for all prefabs</h3>
		</div>
		
		<pre><code class="C#">
			using System.Collections;
			using System.Collections.Generic;
			using UnityEngine;

			public class CameraFacingBillboard : MonoBehaviour
			{
				private Camera m_Camera;

				private void Start()
				{
					m_Camera = GameObject.Find("CenterEyeAnchor").GetComponent<Camera>();
				}
				
				void LateUpdate()
				{
					Vector3 v = m_Camera.transform.position - transform.position;
					v.x = v.z = 0.0f;
					transform.LookAt(m_Camera.transform.position - v);
					// transform.LookAt(transform.position - m_Camera.transform.rotation * Vector3.forward, m_Camera.transform.rotation * Vector3.up);

				}
			}
		</code></pre>

		<div style="text-align: center;">
			<h3>Script for game play</h3>
		</div>

		<div style="width:100%;height:600px;overflow:scroll;">
			
		<pre><code class="C#">
			using System.Collections;
			using System.Collections.Generic;
			using UnityEngine;
			using System.IO;
			using System;
			using UnityEngine.UI;
			
			public class myPlayerController : MonoBehaviour
			{
				public GameObject camera;
				private float x, y, z;
				private float yaw, pitch, roll;
				private GameObject b_sphere, y_sphere, r_sphere;
				public GameObject[] charaArray;
				public Vector3[] positionArray = new Vector3[3];
				private Vector3 temp;
				private Vector3 size;
				private Vector3 blue, yellow, red;
				static private Vector3 ballsize;
				private float percentage;
				string path;
				private static string id;
				private GameObject globalObject;
				private List<GameObject> newobject = new List<GameObject>();
				private float speed = 1.5f;
				static private Boolean hasCharaInScene = false;
				private int counter = 0;
				private string condition;
				private StreamWriter writer;
				public float heightPara;
			
				//public InputField mainInputField;
			
			
				// Start is called before the first frame update
				void Start()
				{
					b_sphere = GameObject.Find("Sphere_blue");
					y_sphere = GameObject.Find("Sphere_yellow");
					r_sphere = GameObject.Find("Sphere_red");
			
					
					//Find the global object
					globalObject = GameObject.Find("globalObject");
					// Fetch the ID and condition using prefab
					id = PlayerPrefs.GetString("ID");
					condition = PlayerPrefs.GetString("condition");
					Debug.Log("condition:" + condition);
					Debug.Log("***ID=" + id);
					path = string.Format(@"C:\Users\tp24269\Desktop\data\{0}.txt", id);
			
					//Write to the csv file
					writer = new StreamWriter(path, true);
					writer.WriteLine("{0}", condition);
					for (int j = 0; j < positionArray.Length; j++)
					{
						writer.WriteLine("{0} ", charaArray[j]);
					}
					blue = b_sphere.transform.position;
					yellow = y_sphere.transform.position;
					red = r_sphere.transform.position;
					writer.WriteLine("{0}, {1} , {2} ", blue, yellow, red);
				}
			
				// Update is called once per frame
				void Update()
				{
					//open a csv file
					x = camera.transform.position.x;
					y = camera.transform.position.y;
					z = camera.transform.position.z;
					yaw = camera.transform.rotation.z;
					pitch = camera.transform.rotation.y;
					roll = camera.transform.rotation.x;
					//The order for writing into the data file 
					string timestamp = DateTime.Now.ToString();
				   
			
					//write to csv
					writer.WriteLine("{0}, {1},  {2}, {3} , {4} , {5} , {6} ", timestamp, x, y, z, yaw, pitch, roll);
			
					//close the file
					//writer.Close();
			
			
					//Debug.Log("YAW = " + yaw);
			
					if (condition == "Condition A")
					{
						//Debug.Log("***Condition A***");
						if (Input.GetKeyDown("1")) {
							charaAppear();
							percentage = y / heightPara;
							counter++;
						}
						if (Input.GetKeyDown("2")) {
							newobject.Clear();
							charaAppear();
							percentage = y / (heightPara*2);
							counter++;
						}
						if (Input.GetKeyDown("3"))
						{
							newobject.Clear();
							charaAppear();
							percentage = y / (heightPara/2);
							counter++;
						}
					}
					else if (condition == "Condition B") {
						//Debug.Log("***Condition B***");
						if (Input.GetKeyDown("1"))
						{
							charaAppear();
							percentage = y / heightPara;
							counter++;
						}
						if (Input.GetKeyDown("2"))
						{
							newobject.Clear();
							charaAppear();
							percentage = y / (heightPara/2);
							counter++;
						}
						if (Input.GetKeyDown("3"))
						{
							newobject.Clear();
							charaAppear();
							percentage = y / (heightPara*2);
							counter++;
						}
					}
			
					if (Input.GetKeyDown("s"))
					{
						y = camera.transform.position.y;
						Debug.Log("y = " + y);
					}
			
					if (hasCharaInScene)
						grow(percentage);
			
					if (Input.GetKeyDown("d"))
					{
						hasCharaInScene = false;
			
					}
			
					if (!hasCharaInScene)
					{
						grow(0);
						
						if (counter != 0 && newobject[0].transform.localScale.y <= ballsize.y)
						{
							b_sphere.gameObject.SetActive(true);
							y_sphere.gameObject.SetActive(true);
							r_sphere.gameObject.SetActive(true);
							
						}
						if (counter != 0 && newobject[0].transform.localScale.y == 0)
						{
							for (int i = 0; i < positionArray.Length; i++)
							{
								Destroy(newobject[i]);
							}
						}
						//newobject.Clear();
					}
			
				}
			
				private void charaAppear()
				{
					//if (Input.GetKeyDown("space"))
					//{
					b_sphere.gameObject.SetActive(false);
					y_sphere.gameObject.SetActive(false);
					r_sphere.gameObject.SetActive(false);
			
					for (int i = positionArray.Length - 1; i > 0; i--)
					{
						int index = UnityEngine.Random.Range(0, i + 1); //random integer index such that 0 <= index <= 1
																		//switch
						if (i != index)
						{
							temp = positionArray[i];
							positionArray[i] = positionArray[index];
							positionArray[index] = temp;
						}
					}
					for (int j = 0; j < positionArray.Length; j++)
					{
						newobject.Add(Instantiate(charaArray[j], positionArray[j], charaArray[j].transform.rotation));
						ballsize = b_sphere.transform.localScale;
						newobject[j].transform.localScale = ballsize;
			
			
						//size.x = (charaArray[j].transform.localScale.x * percentage);
						//size.y = (charaArray[j].transform.localScale.y * percentage);
						//size.z = (charaArray[j].transform.localScale.z * percentage);
						//newobject[j].transform.localScale = size;
					}
					//}
			
			
					hasCharaInScene = true;
			
				}
			
				private void grow(float percentage)
				{
					size = charaArray[0].transform.localScale * percentage;
			
			
					for (int i = 0; i < newobject.Count; i++)
					{
						//newobject[i].transform.localScale = Vector3.Lerp(newobject[i].transform.localScale, size, speed * Time.deltaTime);
						if (i <= 1)
						{
							newobject[i].transform.localScale = Vector3.Lerp(newobject[i].transform.localScale, size, speed * Time.deltaTime);
						} else
						{
							newobject[i].transform.localScale = Vector3.Lerp(newobject[i].transform.localScale, size * 1.2f, speed * Time.deltaTime);
						}
			
					}
			
					//newobject[0].transform.localScale = Vector3.Lerp(newobject[0].transform.localScale, size, speed * Time.deltaTime);
					//newobject[1].transform.localScale = Vector3.Lerp(newobject[1].transform.localScale, size, speed * Time.deltaTime);
					//newobject[2].transform.localScale = Vector3.Lerp(newobject[2].transform.localScale, size * 1.2f, speed * Time.deltaTime);
			
				}
			
				private void OnDestroy()
				{
					writer.Close();
				}
			
			}
			
		</code></pre>
		</div>
	</div>

	<!-- FaceGen -->
	<div class="facegen" style="text-align:center; margin-top: 200px; margin-left: 8%; margin-bottom: 300px;">
		<h4>Avatar Side Project</h4>
		<p style="margin-top: 25px;">This is a side project that I conducted using FaceGen to generate avatars and test people's reaction towards their own avatar.</p>
		<!-- <img src="works/DAIR Lab/FaceGen_1.png" alt="" style="width:40%;">
		<img src="works/DAIR Lab/FaceGen_2.png" alt="" style="width:22%;">
		<img src="works/DAIR Lab/FaceGen_3.png" alt="" style="width:22%;"> -->
		<figure class="figure" style="width:40%; margin-right: 2%;">
			<img src="works/DAIR Lab/FaceGen_1.png" alt="Trulli" style="width:100%;">
			<figcaption>Step1: upload pictures and generate avatar.</figcaption>
		</figure>
		<figure class="figure" style="width:22%; margin-right: 2%;">
			<img src="works/DAIR Lab/FaceGen_2.png" alt="Trulli" style="width:98%;">
			<figcaption>Step2: modify demographics feature.</figcaption>
		</figure>
		<figure class="figure" style="width:22%; margin-right: 10%">
			<img src="works/DAIR Lab/FaceGen_3.png" alt="Trulli" style="width:98%;">
			<figcaption>Step3: add model sets.</figcaption>
		</figure>

	</div><p style="opacity: 0;">
		contact me
	</p>

	<div class="container">
		<h5>FaceGen feedback</h5>
		<p>1.	The photo quality matters. We need to make sure the light is right when taking the photo, otherwise it will change avatar’s skin color. Also we need to make sure no hair covers part of the face. Profile photo could be a good option.</p>
		<p>2.	Current Hairstyle options in FaceGen cannot satisfy their needs and some of them look weird.</p>
		<p>3.	Gender feature is not that obvious. Some female participants say their model looks like female without hair.</p>
		<p>4.	People usually see their reflections in the mirror. The 3D model is a little bit different to their perception, but it’s still acceptable.</p>
		<p>5.	Most participants have positive feeling towards their 3D models. Although there are some deficiencies like the nose part is dark from the front view, they still think the models look similar to real person.</p>
	</div>

	


	<!-- Contact me -->
	<div class="contact">
		
		<p>
			Contact Me
		</p>
		<hr>
		<p class="contact_text">
			If you are interested in my works or have any concern, feel free to contact me. <br />Send me an email and I will get back to you as soon as possible.
		</p>
		<p>
			Email: tpanchloe, at sign, gmail dot com
		</p>
		<div class="icon">
			<a href="mailto: tpanchloe@gmail.com"><img class="icon1" height="50px" src="images\email.png" alt=""></a>
			<a href="https://github.com/CCCCChloe" target="_blank"><img class="icon2" height="50px" src="images\GitHub-Mark-120px-plus.png" alt=""></a>
			<a href="https://www.linkedin.com/in/ting-pan-546283155" target="_blank"><img class="icon3" height="50px" src="images\linkedin-button.png" alt=""></a>
			
		</div>
		
	</div>


	<!-- Copyright -->
	<div class="ending">
		<div class="container">
            <div class="copyright">
                Copyright © 2019 Ting Pan
            </div>
		</div>
	</div>


<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
</body>
</html>